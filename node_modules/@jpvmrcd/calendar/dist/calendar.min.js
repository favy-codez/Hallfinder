this.jpvmrcd=this.jpvmrcd||{},this.jpvmrcd.calendar=function(e){"use strict";var t=function(){function e(e){this.options={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},this.element=e}return e.prototype.render=function(e,t){var n=this;if(null==this.element)throw new Error("element is null");var a=document.createElement("table"),r=document.createElement("thead");a.appendChild(r);var o=document.createElement("tr");r.appendChild(o);var d=this.options,i=d.dayNames,l=d.startDay,c=d.onCellAdded,s=d.onDateClicked,m=0;if(l&&-1===(m=i.indexOf(l)))throw new RangeError("startDay [".concat(l,"] must be one of options.dayNames's values [").concat(i,"]."));var h=new Date;h.setHours(0,0,0,0);var p=h.getTime();null==e||null==t?h.setDate(1):h=new Date(e,t,1),this.year=h.getFullYear(),this.month=h.getMonth();for(var u,f=h.getDay(),v=i.map((function(e,t){return{day:e,index:t}})),y=0;y<m;y++)v.push(v.shift());for(y=0;y<v.length;y++){var E=document.createElement("th"),g=v[y];E.appendChild(document.createTextNode(g.day)),o.appendChild(E),f===g.index&&(u=y)}var C=document.createElement("tbody");if(s&&"function"==typeof s){C.addEventListener("click",(function(e){var t=Element.prototype.closest?e.target.closest("[data-date]"):function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n=e;do{if(Element.prototype.matches.call(n,t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}(e.target,"[data-date]");t&&s({event:e,dateISOString:t.dataset.date})}))}var D=new Date(this.year,this.month+1,0).getDate(),w=!1,S=!1,T=h.getDate(),N=function(e){return(e>9?"":"0")+e.toString()},x=function(e,t){var a=t.getDate(),r="".concat(n.year,"-").concat(N(n.month+1),"-").concat(N(a));e.dataset.date=r,p===t.getTime()&&e.classList.add("today"),c&&"function"==typeof c?c({td:e,dateISOString:r}):e.appendChild(document.createTextNode(a.toString()))};do{var b=document.createElement("tr");for(y=0;y<7;y++){var M=document.createElement("td");S?(T+=1,h.setDate(T),x(M,h)):u===y&&1===T&&(S=!0,x(M,h)),D===T&&(S=!1),b.appendChild(M)}w=D!==T,C.appendChild(b)}while(w);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);a.appendChild(C),this.element.appendChild(a)},e}();return e.Calendar=t,e}({});
